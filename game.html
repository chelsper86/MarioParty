<!--BUG LIST
option1 class is not coloring the select option properly. Check how to make a default selector that is grayed out-->
<!--TO DO
Maybe add a item wheel that auto populates the item drop down when used?
Add spreadsheet that can be acessed real time for turn data
Allow editing of spreadsheet data in case someone makes a mistake
Add space selector
Add to the mobile app the option for a random hidden block...maybe a 1 in 10 chance?-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Mario Party - Home</title>
        <!--<meta name="viewport" content="width=device-width, initial-scale=1.0" />-->
        <meta name="viewport" content="width=1080, height=1920, initial-scale=1">
        <meta name="robots" content="noindex, nofollow">
        <link type="text/css" rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div class="headerContainer">
            <div class="headerGrid">
                <div class="box">
                    <div id="main_character_img">
                        <!--<img src="images/mario_main_img.svg">-->
                        <img src="" id="character-image">
                    </div>
                </div>
                <div class="box">
                    <h1 id="character-name">Character Name</h1>
                </div>    
            </div>
        </div>
        <div class="dropDownMainContainer">
            <div class="dropDownMenusContainer1">
                <div class="row">
                    <div class="column">
                        <div id="turn_menu">
                            <div class="subRow">
                                <div class="subColumn">
                                    <form action="#">
                                        <select name="turn_drop_down" id="turn_drop_down">
                                            <option value="0">0</option>  
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                            <!--<option value="11">11</option>
                                            <option value="12">12</option>
                                            <option value="13">13</option>
                                            <option value="14">14</option>
                                            <option value="15">15</option>
                                            <option value="16">16</option>
                                            <option value="17">17</option>
                                            <option value="18">18</option>
                                            <option value="19">19</option>
                                            <option value="20">20</option>-->
                                        </select>
                                    </form>
                                </div>
                                <div class="subColumn">
                                    <div id="turn_img">
                                        <img src="images/turn.svg">
                                    </div>
                                </div>
                            </div>
                        </div>   
                    </div>     
                    <div class="column">
                        <div id="star_menu">
                            <div class="subRow">
                                <div class="subColumn">
                                    <form action="#">
                                        <select name="star_drop_down" id="star_drop_down">
                                            <option value="0">0</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select>
                                    </form>
                                </div>
                                <div class="subColumn">
                                    <div id="star_img">
                                        <img src="images/star.svg">
                                    </div>
                                </div>
                            </div>    
                        </div>
                    </div>
                    <div class="column">
                        <div id="coin_menu">
                            <div class="subRow">
                                <div class="subColumn">
                                    <form action="#">
                                        <select name="coin_drop_down" id="coin_drop_down">
                                            <option value="0">0</option>
                                            <option value="5">5</option>
                                            <option value="10">10</option>
                                            <option value="15">15</option>
                                            <option value="20">20</option>
                                            <option value="25">25</option>
                                            <option value="30">30</option>
                                            <option value="35">35</option>
                                            <option value="40">40</option>
                                            <option value="45">45</option>
                                            <option value="50">50</option>
                                            <option value="55">55</option>
                                            <option value="60">60</option>
                                            <option value="65">65</option>
                                            <option value="70">70</option>
                                            <option value="75">75</option>
                                            <option value="80">80</option>
                                            <option value="85">85</option>
                                            <option value="90">90</option>
                                            <option value="95">95</option>
                                            <option value="100">100</option>
                                            <option value="110">110</option>
                                            <option value="115">115</option>
                                            <option value="120">120</option>
                                            <option value="125">125</option>
                                            <option value="130">130</option>
                                            <option value="135">135</option>
                                            <option value="140">140</option>
                                            <option value="145">145</option>
                                            <option value="150">150</option>
                                            <option value="155">155</option>
                                            <option value="160">160</option>
                                            <option value="165">165</option>
                                            <option value="170">170</option>
                                            <option value="175">175</option>
                                            <option value="180">180</option>
                                            <option value="185">185</option>
                                            <option value="190">190</option>
                                            <option value="195">195</option>
                                            <option value="200">200</option>
                                        </select>
                                    </form>
                                </div>
                                <div class="subColumn">  
                                    <div id="coin_img">
                                        <img src="images/coin.svg">
                                    </div>   
                                </div>
                            </div>
                        </div>
                    </div>    
                </div>
            </div>
            <div class="dropDownMenusContainer2">
                <div class="row">
                    <div class="column">
                        <div id="item1">
                            <div class="subRow">
                                <div class="subColumn">
                                    <form action="#">
                                        <select name="item1_drop_down" id="item1_drop_down">
                                            <option value="Item">Item</option>
                                            <option value="Red Mushroom">Red Mushroom</option>
                                            <option value="Gold Mushroom">Gold Mushroom</option>
                                            <option value="Poison Mushroom">Poison Mushroom</option>
                                            <option value="Reverse Mushroom">Reverse Mushroom</option>
                                            <option value="Genie Lamp">Genie Lamp</option>
                                            <option value="Blue Lamp">Blue Lamp</option>
                                            <option value="Key">Key</option>
                                            <option value="Boo Bell">Boo Bell</option>
                                            <option value="Boo Spray">Boo Spray</option>
                                            <option value="Dueling Glove">Dueling Glove</option>
                                            <option value="Plunder Chest">Plunder Chest</option>
                                            <option value="Warp Block">Warp Block</option>                                        
                                        </select>
                                    </form>
                                </div>
                                <div class="subColumn">
                                    <div id="item_drop_down_image1">
                                        <img src="images/item_box_alt.svg" id="item-image1" onerror="this.style.display='none'"> <!-- Unique ID for the first item image -->
                                        <div id="image-description-modal" class="modal" style="display: none;">
                                            <div class="modal-content">
                                                <span class="close" id="modal-close">&times;</span>
                                                <p id="modal-description"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="image-description"></div>
                                </div>
                            </div>    
                        </div>    
                    </div>
                    <div class="column">
                        <div id="item2">
                            <div class="subRow">
                                <div class="subColumn">
                                    <form action="#">
                                        <select name="item2_drop_down" id="item2_drop_down">
                                            <option value="Item">Item</option>
                                            <option value="Red Mushroom">Red Mushroom</option>
                                            <option value="Gold Mushroom">Gold Mushroom</option>
                                            <option value="Poison Mushroom">Poison Mushroom</option>
                                            <option value="Reverse Mushroom">Reverse Mushroom</option>
                                            <option value="Genie Lamp">Genie Lamp</option>
                                            <option value="Blue Lamp">Blue Lamp</option>
                                            <option value="Key">Key</option>
                                            <option value="Boo Bell">Boo Bell</option>
                                            <option value="Boo Spray">Boo Spray</option>
                                            <option value="Dueling Glove">Dueling Glove</option>
                                            <option value="Plunder Chest">Plunder Chest</option>
                                            <option value="Warp Block">Warp Block</option>                                        
                                        </select>
                                    </form>
                                </div>
                                <div class="subColumn">
                                    <div id="item_drop_down_image2"> <!-- Unique ID for the second item image -->
                                        <img src="images/item_box_alt.svg" id="item-image2" onerror="this.style.display='none'"> <!-- Unique ID for the second item image -->
                                    </div>
                                </div>
                            </div>    
                        </div>    
                    </div>
                    <div class="column">
                        <div id="item3">
                            <form action="#">
                                <div class="subRow">
                                    <div class="subColumn">
                                        <form action="#">
                                            <select name="item3_drop_down" id="item3_drop_down">
                                                <option value="Item">Item</option>
                                                <option value="Red Mushroom">Red Mushroom</option>
                                                <option value="Gold Mushroom">Gold Mushroom</option>
                                                <option value="Poison Mushroom">Poison Mushroom</option>
                                                <option value="Reverse Mushroom">Reverse Mushroom</option>
                                                <option value="Genie Lamp">Genie Lamp</option>
                                                <option value="Blue Lamp">Blue Lamp</option>
                                                <option value="Key">Key</option>
                                                <option value="Boo Bell">Boo Bell</option>
                                                <option value="Boo Spray">Boo Spray</option>
                                                <option value="Dueling Glove">Dueling Glove</option>
                                                <option value="Plunder Chest">Plunder Chest</option>
                                                <option value="Warp Block">Warp Block</option>
                                            </select>
                                        </form>
                                    </div>
                                    <div class="subColumn">
                                        <div id="item_drop_down_image3"> <!-- Unique ID for the third item image -->
                                            <img src="images/item_box_alt.svg" id="item-image3" onerror="this.style.display='none'"> <!-- Unique ID for the third item image -->
                                        </div>
                                    </div>
                                </div>    
                            </form>
                        </div>    
                    </div>
                </div>
            </div>
        </div> 
        <div class="diceContainer" id="dice">
            <div class="dice-wrapper" id="diceWrapper">
                <img src="images/dice-00.svg" id="die-0" onclick="play();roll()">
            </div>
        </div>
        <script src="script.js"></script>
        <audio id="diceAudio" src="audio/dice-roll-01.mp3"></audio>
    
        <script>
            //This informs the user that the "Changes you made may not be saved" if you reload the page.
            window.addEventListener('beforeunload', function (e) {
                // Cancel the event
                e.preventDefault(); // If you prevent default behavior in Mozilla Firefox prompt will always be shown
                // Chrome requires returnValue to be set
                e.returnValue = '';
            });
            
            document.addEventListener("DOMContentLoaded", function() {
            // Get the character parameter from the URL
            const urlParams = new URLSearchParams(window.location.search);
            const character = urlParams.get('character');

            // Define CSS files and character names for each character
            const characterData = {
                'mario': {
                    cssFile: 'mario.css',
                    name: 'Mario',
                    image: 'images/mario_main_img.svg'
                },
                'boo': {
                    cssFile: 'boo.css',
                    name: 'Boo',
                    image: 'images/boo_main_img.svg'
                },
                'bobomb': {
                    cssFile: 'bobomb.css',
                    name: 'Bob-omb',
                    image: 'images/bobomb.svg'
                },
                'drybones': {
                    cssFile: 'drybones.css',
                    name: 'Dry Bones',
                    image: 'images/drybones.svg'
                },
                'yoshi': {
                    cssFile: 'yoshi.css',
                    name: 'Yoshi',
                    image: 'images/yoshi.jpeg'
                },
                'peach': {
                    cssFile: 'peach.css',
                    name: 'Peach',
                    image: 'images/peach.svg'
                },
                'rosalina': {
                    cssFile: 'rosalina.css',
                    name: 'Rosalina',
                    image: 'images/rosalina.svg'
                },
                'koopa': {
                    cssFile: 'koopa.css',
                    name: 'Koopa',
                    image: 'images/koopa.svg'
                },
                'cattoad': {
                    cssFile: 'cattoad.css',
                    name: 'Cat Toad',
                    image: 'images/cattoad.svg'
                },
                // Add more characters and CSS files as needed
            };
    
            // Dynamically load the CSS file for the selected character
            if (characterData[character]) {
                const link = document.createElement('link');
                link.rel = 'stylesheet';
                link.href = characterData[character].cssFile;
                document.head.appendChild(link);

                // Update the character name in the <h1> element
                document.getElementById('character-name').textContent = characterData[character].name;
            
                // Update the character and item images
                document.getElementById('character-image').src = characterData[character].image;
            }

            // Define item images for each item
            const itemImages = {
                'Item': 'images/item_box_alt.svg',
                'Red Mushroom': 'images/mushroom_red.svg',
                'Gold Mushroom': 'images/mushroom_gold.svg',
                'Poison Mushroom': 'images/mushroom_poison.svg',
                'Reverse Mushroom': 'images/mushroom_reverse.svg',
                'Genie Lamp': 'images/lamp_genie.svg',
                'Blue Lamp': 'images/lamp_blue.svg',
                'Key': 'images/key.svg',
                'Boo Bell': 'images/boo_bell.svg',
                'Boo Spray': 'images/boo_spray.svg',
                'Dueling Glove': 'images/dueling_glove.svg',
                'Plunder Chest': 'images/plunder_chest.svg',
                'Warp Block': 'images/warp_block.svg'

                // Add more items and image paths as needed
            };

            const itemDescriptions = {
                'Item': 'Select an item from the dropdown menu to display it here.',
                'Red Mushroom': 'Adds 5 to your roll.',
                'Gold Mushroom': 'Adds 10 to your roll.',
                'Poison Mushroom': 'Choose who to poison. Poisoned players can only move 1 to 3 spaces this turn.',
                'Reverse Mushroom': 'Move backwards for this turn',
                'Genie Lamp': 'Takes you directly to the star.',
                'Blue Lamp': 'Moves the star(s) to a new location.',
                'Key': 'Opens a locked gate.',
                'Boo Bell': 'Calls Boo to you. Acts the same as if you landed on the Boo Space',
                'Boo Spray': 'Prevents someone from using Boo against you.',
                'Dueling Glove': 'Triggers a duel mini game. You choose your opponent and the wager. Min/Max = 5 Coins/All the coins you have',
                'Plunder Chest': 'Take one item from another player.',
                'Warp Block': 'Roll a character dice. Switch spots with that character.'
                // Add descriptions for other items
            };

            // Function to update the item image
            function updateItemImage() {
                const itemSelect = document.getElementById('item1_drop_down');
                const itemImage = document.getElementById('item-image1');
                const selectedItem = itemSelect.value;
                itemImage.src = itemImages[selectedItem];
                // Get the image path and description from your itemImages and itemDescriptions objects
                const imagePath = itemImages[selectedItem];
                const description = itemDescriptions[selectedItem];

                // Update the item image's src
                itemImage.src = imagePath;

                // Update the modal description content
                const modalDescriptionElement = document.getElementById('modal-description');
                modalDescriptionElement.textContent = description;
            }

            // Show the modal when the user clicks on the 1st item image
            document.getElementById('item-image1').addEventListener('click', function () {
                const modal = document.getElementById('image-description-modal');
                const modalDescription = document.getElementById('modal-description');
                const selectedItem = document.getElementById('item1_drop_down').value;
                modalDescription.textContent = itemDescriptions[selectedItem];
                modal.style.display = 'block';
            });

            // Add an event listener to toggle the item description on 1st item image click
            document.getElementById('item-image1').addEventListener('click', function () {
                const descriptionElement = document.getElementById('image-description');

                if (descriptionElement.style.display === 'none') {
                    descriptionElement.style.display = 'block'; // Show the description
                } else {
                    descriptionElement.style.display = 'none'; // Hide the description
                }
            });

                        // Show the modal when the user clicks on the 2nd item image
                        document.getElementById('item-image2').addEventListener('click', function () {
                const modal = document.getElementById('image-description-modal');
                const modalDescription = document.getElementById('modal-description');
                const selectedItem = document.getElementById('item2_drop_down').value;
                modalDescription.textContent = itemDescriptions[selectedItem];
                modal.style.display = 'block';
            });

            // Add an event listener to toggle the item description on 2nd item image click
            document.getElementById('item-image2').addEventListener('click', function () {
                const descriptionElement = document.getElementById('image-description');

                if (descriptionElement.style.display === 'none') {
                    descriptionElement.style.display = 'block'; // Show the description
                } else {
                    descriptionElement.style.display = 'none'; // Hide the description
                }
            });

            // Show the modal when the user clicks on the 3rd item image
            document.getElementById('item-image3').addEventListener('click', function () {
                const modal = document.getElementById('image-description-modal');
                const modalDescription = document.getElementById('modal-description');
                const selectedItem = document.getElementById('item3_drop_down').value;
                modalDescription.textContent = itemDescriptions[selectedItem];
                modal.style.display = 'block';
            });

            // Add an event listener to toggle the item description on 3rd item image click
            document.getElementById('item-image3').addEventListener('click', function () {
                const descriptionElement = document.getElementById('image-description');

                if (descriptionElement.style.display === 'none') {
                    descriptionElement.style.display = 'block'; // Show the description
                } else {
                    descriptionElement.style.display = 'none'; // Hide the description
                }
            });

            // Close the modal when the user clicks the close button (Ã—)
            document.getElementById('modal-close').addEventListener('click', function () {
                const modal = document.getElementById('image-description-modal');
                modal.style.display = 'none';
            });

            // Function to update the item image for the second dropdown
            function updateItemImage2() {
                const itemSelect = document.getElementById('item2_drop_down');
                const itemImage = document.getElementById('item-image2'); // Use the unique ID for the second item image
                const selectedItem = itemSelect.value;
                itemImage.src = itemImages[selectedItem];
            }

            // Function to update the item image for the second dropdown
            function updateItemImage3() {
                const itemSelect = document.getElementById('item3_drop_down');
                const itemImage = document.getElementById('item-image3'); // Use the unique ID for the third item image
                const selectedItem = itemSelect.value;
                itemImage.src = itemImages[selectedItem];
            }

            // Initially update the item image
            updateItemImage();

            // Listen for changes in the item dropdown menu
            document.getElementById('item1_drop_down').addEventListener('change', updateItemImage);

            // ... (repeat the above two blocks for other item dropdowns if needed)
        
            // Initially update the item image for the second dropdown
            updateItemImage2();

            // Listen for changes in the second item dropdown menu
            document.getElementById('item2_drop_down').addEventListener('change', updateItemImage2);

            // Initially update the item image for the third dropdown
            updateItemImage3();

            // Listen for changes in the third item dropdown menu
            document.getElementById('item3_drop_down').addEventListener('change', updateItemImage3);
        
            // Function to update the "turn" dropdown menu
            function updateTurnDropdown() {
                const turnSelect = document.getElementById('turn_drop_down');
                const currentTurn = parseInt(turnSelect.value, 10);
                const newTurn = currentTurn + 1;
                turnSelect.value = newTurn.toString();
            }

            // Function to roll the dice
            function rollDice() {
                // After rolling the dice, add 1 to the "turn" dropdown
                updateTurnDropdown();
            }

            // Add a click event listener to the dice image
            document.getElementById('die-0').addEventListener('click', rollDice);
    
        });
        </script>
    </body>
</html>
